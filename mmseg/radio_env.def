Bootstrap: docker
From: nvcr.io/nvidia/pytorch:23.11-py3

%files
    requirements.txt /tmp/requirements.txt

%post
    pip install --no-cache-dir -r /tmp/requirements.txt
    rm /tmp/requirements.txt

%environment
    export CUDA_HOME=/usr/local/cuda
    export PATH=/usr/local/cuda/bin:$PATH
    export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH

%runscript
    exec "$@"